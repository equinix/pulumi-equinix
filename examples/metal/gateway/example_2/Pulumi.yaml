name: equinix-metal-gateway-example_2
runtime: yaml
resources:
  # Create Metal Gateway for a VLAN and reserved IP address block
  test:
    type: equinix:metal:Vlan
    properties:
      description: test VLAN in SV
      metro: sv
      projectId: ${projectId}
  test1:
    type: equinix:metal:ReservedIpBlock
    properties:
      projectId: ${projectId}
      metro: sv
      quantity: 8
  testGateway:
    type: equinix:metal:Gateway
    name: test
    properties:
      projectId: ${projectId}
      vlanId: ${test.id}
      ipReservationId: ${testEquinixMetalReservedIpBlock.id}
