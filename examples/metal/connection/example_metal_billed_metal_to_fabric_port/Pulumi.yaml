# WARNING: This is an autogenerated file - manual changes will be overwritten if not made via ./scripts/generate_examples.sh
name: equinix-metal-connection-example_metal_billed_metal_to_fabric_port
runtime: yaml
resources:
  example:
    type: equinix:metal:Interconnection
    properties:
      name: tf-metal-2-port
      projectId: <metal_project_id>
      type: shared
      redundancy: redundant
      metro: FR
      speed: 1Gbps
      serviceTokenType: a_side
      contactEmail: username@example.com
  exampleConnection:
    type: equinix:fabric:Connection
    name: example
    properties:
      name: tf-metal-2-port
      type: EVPL_VC
      notifications:
        - type: ALL
          emails:
            - username@example.com
      project:
        projectId: <fabric_project_id>
      bandwidth: '100'
      order:
        purchaseOrderNumber: 1-323292
      aSide:
        serviceToken:
          uuid: ${example.serviceTokens[0].id}
      zSide:
        accessPoint:
          type: COLO
          port:
            uuid: ${aSide.data[0].uuid}
          linkProtocol:
            type: DOT1Q
            vlanTag: 1234
variables:
  aSide:
    fn::invoke:
      Function: equinix:fabric:getPorts
      Arguments:
        filter:
          name: <name_of_port||port_prefix>
