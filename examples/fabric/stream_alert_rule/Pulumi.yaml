# WARNING: This is an autogenerated file - manual changes will be overwritten if not made via ./scripts/generate_examples.sh
name: equinix-fabric-stream_alert_rule
runtime: yaml
resources:
  newStreamAlertRule:
    type: equinix:fabric:StreamAlertRule
    name: new_stream_alert_rule
    properties:
      streamId: <stream_id>
      name: <name>
      type: METRIC_ALERT
      description: <description>
      enabled: true
      metricSelector:
        includes:
          - equinix.fabric.connection.bandwidth_tx.usage
      detectionMethod:
        operand: ABOVE
        windowSize: <window_size>
        warningThreshold: <warning_threshold>
        criticalThreshold: <critical_threshold>
      resourceSelector:
        includes:
          - '*/connections/<connection_id>'
outputs:
  streamAlertRuleType: ${newStreamAlertRule.type}
  streamAlertRuleId: ${newStreamAlertRule.uuid}
  streamAlertRuleStreamId: ${newStreamAlertRule.streamId}
  streamAlertRuleState: ${newStreamAlertRule.state}
