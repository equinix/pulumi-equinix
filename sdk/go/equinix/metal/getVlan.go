// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package metal

import (
	"context"
	"reflect"

	"github.com/equinix/pulumi-equinix/sdk/go/equinix/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides an Equinix Metal Virtual Network datasource. VLANs data sources can be searched by VLAN UUID, or project UUID and vxlan number.
//
// ## Example Usage
//
// Fetch a vlan by ID:
//
// ```go
// package main
//
// import (
//
//	"github.com/equinix/pulumi-equinix/sdk/go/equinix/metal"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			foovlan, err := metal.NewVlan(ctx, "foovlan", &metal.VlanArgs{
//				ProjectId: pulumi.Any(local.Project_id),
//				Metro:     pulumi.String("sv"),
//				Vxlan:     pulumi.Int(5),
//			})
//			if err != nil {
//				return err
//			}
//			_ = metal.LookupVlanOutput(ctx, metal.GetVlanOutputArgs{
//				VlanId: foovlan.ID(),
//			}, nil)
//			return nil
//		})
//	}
//
// ```
//
// # Fetch a vlan by project ID, vxlan and metro
//
// ```go
// package main
//
// import (
//
//	"github.com/equinix/pulumi-equinix/sdk/go/equinix/metal"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := metal.LookupVlan(ctx, &metal.LookupVlanArgs{
//				ProjectId: pulumi.StringRef(local.Project_id),
//				Vxlan:     pulumi.IntRef(5),
//				Metro:     pulumi.StringRef("sv"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func LookupVlan(ctx *pulumi.Context, args *LookupVlanArgs, opts ...pulumi.InvokeOption) (*LookupVlanResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupVlanResult
	err := ctx.Invoke("equinix:metal/getVlan:getVlan", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getVlan.
type LookupVlanArgs struct {
	// Facility where the VLAN is deployed. Deprecated, see https://feedback.equinixmetal.com/changelog/bye-facilities-hello-again-metros
	//
	// Deprecated: Use metro instead of facility.  For more information, read the migration guide: https://registry.terraform.io/providers/equinix/equinix/latest/docs/guides/migration_guide_facilities_to_metros_devices
	Facility *string `pulumi:"facility"`
	// Metro where the VLAN is deployed.
	//
	// > **NOTE:** You must set either `vlanId` or a combination of `vxlan`, `projectId`, and, `metro` or `facility`.
	Metro *string `pulumi:"metro"`
	// UUID of parent project of the VLAN. Use together with the vxlan number and metro or facility.
	ProjectId *string `pulumi:"projectId"`
	// Metal UUID of the VLAN resource to look up.
	VlanId *string `pulumi:"vlanId"`
	// vxlan number of the VLAN to look up. Use together with the projectId and metro or facility.
	Vxlan *int `pulumi:"vxlan"`
}

// A collection of values returned by getVlan.
type LookupVlanResult struct {
	// List of device ID to which this VLAN is assigned.
	AssignedDevicesIds []string `pulumi:"assignedDevicesIds"`
	// Description text of the VLAN resource.
	Description string `pulumi:"description"`
	// Deprecated: Use metro instead of facility.  For more information, read the migration guide: https://registry.terraform.io/providers/equinix/equinix/latest/docs/guides/migration_guide_facilities_to_metros_devices
	Facility  string `pulumi:"facility"`
	Id        string `pulumi:"id"`
	Metro     string `pulumi:"metro"`
	ProjectId string `pulumi:"projectId"`
	VlanId    string `pulumi:"vlanId"`
	Vxlan     int    `pulumi:"vxlan"`
}

func LookupVlanOutput(ctx *pulumi.Context, args LookupVlanOutputArgs, opts ...pulumi.InvokeOption) LookupVlanResultOutput {
	return pulumi.ToOutputWithContext(context.Background(), args).
		ApplyT(func(v interface{}) (LookupVlanResult, error) {
			args := v.(LookupVlanArgs)
			r, err := LookupVlan(ctx, &args, opts...)
			var s LookupVlanResult
			if r != nil {
				s = *r
			}
			return s, err
		}).(LookupVlanResultOutput)
}

// A collection of arguments for invoking getVlan.
type LookupVlanOutputArgs struct {
	// Facility where the VLAN is deployed. Deprecated, see https://feedback.equinixmetal.com/changelog/bye-facilities-hello-again-metros
	//
	// Deprecated: Use metro instead of facility.  For more information, read the migration guide: https://registry.terraform.io/providers/equinix/equinix/latest/docs/guides/migration_guide_facilities_to_metros_devices
	Facility pulumi.StringPtrInput `pulumi:"facility"`
	// Metro where the VLAN is deployed.
	//
	// > **NOTE:** You must set either `vlanId` or a combination of `vxlan`, `projectId`, and, `metro` or `facility`.
	Metro pulumi.StringPtrInput `pulumi:"metro"`
	// UUID of parent project of the VLAN. Use together with the vxlan number and metro or facility.
	ProjectId pulumi.StringPtrInput `pulumi:"projectId"`
	// Metal UUID of the VLAN resource to look up.
	VlanId pulumi.StringPtrInput `pulumi:"vlanId"`
	// vxlan number of the VLAN to look up. Use together with the projectId and metro or facility.
	Vxlan pulumi.IntPtrInput `pulumi:"vxlan"`
}

func (LookupVlanOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupVlanArgs)(nil)).Elem()
}

// A collection of values returned by getVlan.
type LookupVlanResultOutput struct{ *pulumi.OutputState }

func (LookupVlanResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupVlanResult)(nil)).Elem()
}

func (o LookupVlanResultOutput) ToLookupVlanResultOutput() LookupVlanResultOutput {
	return o
}

func (o LookupVlanResultOutput) ToLookupVlanResultOutputWithContext(ctx context.Context) LookupVlanResultOutput {
	return o
}

// List of device ID to which this VLAN is assigned.
func (o LookupVlanResultOutput) AssignedDevicesIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v LookupVlanResult) []string { return v.AssignedDevicesIds }).(pulumi.StringArrayOutput)
}

// Description text of the VLAN resource.
func (o LookupVlanResultOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v LookupVlanResult) string { return v.Description }).(pulumi.StringOutput)
}

// Deprecated: Use metro instead of facility.  For more information, read the migration guide: https://registry.terraform.io/providers/equinix/equinix/latest/docs/guides/migration_guide_facilities_to_metros_devices
func (o LookupVlanResultOutput) Facility() pulumi.StringOutput {
	return o.ApplyT(func(v LookupVlanResult) string { return v.Facility }).(pulumi.StringOutput)
}

func (o LookupVlanResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupVlanResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o LookupVlanResultOutput) Metro() pulumi.StringOutput {
	return o.ApplyT(func(v LookupVlanResult) string { return v.Metro }).(pulumi.StringOutput)
}

func (o LookupVlanResultOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupVlanResult) string { return v.ProjectId }).(pulumi.StringOutput)
}

func (o LookupVlanResultOutput) VlanId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupVlanResult) string { return v.VlanId }).(pulumi.StringOutput)
}

func (o LookupVlanResultOutput) Vxlan() pulumi.IntOutput {
	return o.ApplyT(func(v LookupVlanResult) int { return v.Vxlan }).(pulumi.IntOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupVlanResultOutput{})
}
